<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>SwiftParking</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="css/iconfont.css">
    	<link rel="stylesheet" href="css/common.css">
    	<link rel="stylesheet" href="css/home.css">
    	<script type="text/javascript" src="js/common.js" ></script>

		<link href="/accounthome/dist/dialog.css" rel="stylesheet"></head>
		<script src="/accounthome/dist/mDialogMin.js"></script>
		<script src="/accounthome/dist/jquery.js"></script>

		<link rel="stylesheet" href="/admin/dist/notiflix-1.3.0.min.css">
		<script src="/admin/dist/jquery-1.11.0.min.js" type="text/javascript"></script>
		<script src="/admin/dist/notiflix-1.3.0.min.js" type="text/javascript"></script>
	</head>

	<body style="background-color:#f5f5f5">
		<header class="mui-bar mui-bar-nav index-bar">
		    <div class="mui-input-row mui-search">  
		        <input type="search" class="mui-input-speech mui-input-clear" placeholder="">
		    </div>
		    <a href="#popover" class="contact" id="add" >
		    	<span class="icon iconfont icon-liebiao"></span>
		    </a> 
		    <a class="loading contact" href="/welcome/welcome.html">
		    	<span class="icon iconfont icon-zidingyileimu"></span>
		    </a>
		    
		</header> 
		<div id="popover" class="mui-popover mypopover"> 
		  	<ul class="mui-table-view">
				<li class="mui-table-view-cell"><a href="#" id="saoyisao1"><span class="icon iconfont icon-saoyisao"></span>&nbsp;&nbsp;Scan</a></li>
				<li class="mui-table-view-cell"><a class="loading" href="/user/showQR.do"><span class="icon iconfont icon-fukuanma"></span>&nbsp;&nbsp;Collect</a></li>
				<li class="mui-table-view-cell"><a id="setting2"><span class="icon iconfont icon-shezhi"></span>&nbsp;&nbsp;Setting</a></li>
				<li class="mui-table-view-cell"><a id="logout2"><span class="icon iconfont icon-bangong"></span>&nbsp;&nbsp;Log Out</a></li>
			</ul>
		</div>
		<div class="mui-content" > 
			 <div class="mui-row myicon"> 
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a id="saoyisao">
		                    <span class="icon iconfont icon-saoyisao"></span>
							<span class="wenzi">Scan</span>
		                </a>
		            </li>
		        </div>

		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/account/transfer/transfer.html">
		                    <span class="icon iconfont icon-guojihuikuan"></span>
		                    <span class="wenzi">Transfer</span>
		                </a>
		            </li>
		        </div>

		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/user/showQR.do">
		                    <span class="icon iconfont icon-fukuanma"></span>
		                    <span class="wenzi">Collect</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/account/findAccount.do">
		                    <span class="icon iconfont icon-lijin"></span>
		                    <span class="wenzi">Balance</span>
		                </a>
		            </li>
		        </div>
    		</div>
			<div class="mui-row myicon secondlineicon">
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/account/transfer/transfer.html" class="zhuanzhang">
		                    <span class="icon iconfont icon-zhuanzhang"></span>
							<span class="wenzi">Transfer</span>
		                </a>
		            </li>
		        </div>
		        
		        <div class="mui-col-sm-3 mui-col-xs-3">
					<li class="mui-table-view-cell">
						<a class="loading" href="/account/findMyCars.do" class="">
							<span class="icon iconfont icon-dache"></span>
							<span class="wenzi">MyCars</span>
						</a>
					</li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
					<li class="mui-table-view-cell">
						<a class="loading" href="/minigame/game.html" class="">
							<span class="icon iconfont icon-tianmaobao"></span>
							<span class="wenzi">MiniGame</span>
						</a>
					</li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/park/findAll.do" class="">
		                    <span class="icon iconfont icon-logo"></span>
							<span class="wenzi">Parks</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/account/findRecord.do" class="">
		                    <span style="color: #22b193" class="icon iconfont icon-licai"></span>
							<span class="wenzi">History</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/account/findMyCards.do" class="">
		                    <span class="icon iconfont icon-xinyongqiahuankuan"></span>
							<span class="wenzi">MyCards</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/user/topupMenu.do" class="">
		                    <span style="color: #368de6" class="icon iconfont icon-shoukuan"></span>
							<span class="wenzi">TopUp</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/account/card.do" class="">
		                    <span class="icon iconfont icon-icon"></span>
							<span class="wenzi">Refund</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
		            <li class="mui-table-view-cell">
		                <a class="loading" href="/user/showQR.do" class="">
		                    <span style="color: #368de6" class="icon iconfont icon-fukuanma"></span>
							<span class="wenzi">Collect</span>
		                </a>
		            </li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
					<li class="mui-table-view-cell">
						<a class="loading" href="/account/findAccount.do">
							<span style="color: #22b193" class="icon iconfont icon-caifub"></span>
							<span class="wenzi">Balance</span>
						</a>
					</li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
					<li class="mui-table-view-cell">
						<a class="" >
							<span id="setting" style="color: #368de6" class="icon iconfont icon-shezhi"></span>
							<span class="wenzi">Setting</span>
						</a>
					</li>
		        </div>
		        <div class="mui-col-sm-3 mui-col-xs-3">
					<li class="mui-table-view-cell">
						<a id="logout" class="">
							<span style="color: #368de6" class="icon iconfont icon-shibai"></span>
							<span class="wenzi">LogOut</span>
						</a>
					</li>
		        </div>
    		</div>
    		<ul class="mui-table-view trees" >
    		    <li class="mui-table-view-cell mui-media">
    		        <a class="loading" href="/park/findAll.do">
    		            <img class="mui-media-object mui-pull-left" src="img/timg.png">
    		            <div class="mui-media-body">
    		                Swift Parking
    		                <p class="mui-ellipsis mui-navigate-right">
    		                	Click to find the parks around you.
    		                </p>
    		            </div>
    		        </a>
    		    </li>
    		</ul>
    		<div id="slider" class="mui-slider home-slider" >
				<div class="mui-slider-group mui-slider-loop">
					<div class="mui-slider-item mui-slider-item-duplicate">
						<a id="pic1" href="#" class="pic">
							<img src="img/banner1.png">
						</a> 
					</div>
					<!-- 第一张 -->
					<div class="mui-slider-item">
						<a href="#" class="pic">
							<img src="img/banner1.png">
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#" class="pic">
							<img src="img/banner2.png">
						</a>
					</div>
					<!-- 第二张 -->
					<div class="mui-slider-item">
						<a href="#" class="pic">
							<img src="img/banner3.png">
						</a>
					</div>
					<!-- 第三张 -->
					<div class="mui-slider-item">
						<a href="#" class="pic">
							<img src="img/banner4.png">
						</a>
					</div>
					<!-- 第四张 -->
					<div class="mui-slider-item">
						<a href="#" class="pic">
							<img src="img/banner5.png">
						</a>
					</div>
					<div class="mui-slider-item mui-slider-item-duplicate">
						<a href="#" class="pic">
							<img src="img/banner1.png">
						</a>
					</div>
				</div>
				<div class="mui-slider-indicator">
					<div class="mui-indicator mui-active"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
				</div>
			</div>
			<div class="mui-row headtitle">
			    <div class="mui-col-sm-12 mui-col-xs-12" style="padding-left: 15px; padding-top:10px;padding-bottom:10px;">|Module</div>
			</div>
			<div class="mui-row">
			    <div class="mui-col-sm-6 mui-col-xs-6 rightboderline">
			    	<ul class="mui-table-view">
			    	    <li class="mui-table-view-cell mui-media">
			    	        <a class="loading" href="/developing/developing.html">
			    	            <img class="mui-media-object mui-pull-right" src="img/rightimg.png">
			    	            <div class="mui-media-body">
			    	                <p class="huititle">Redeem</p>
			    	                <p class="mui-ellipsis">developing...</p>
			    	            </div>
			    	        </a>
			    	    </li>
			    
			    	</ul>
			    </div>
			    <div class="mui-col-sm-6 mui-col-xs-6">
			    	<ul class="mui-table-view">
			    	    <li class="mui-table-view-cell mui-media">
			    	        <a class="loading" href="/developing/developing.html">
			    	            <img class="mui-media-object mui-pull-right" src="img/rightimg1.png">
			    	            <div class="mui-media-body">
			    	               <p class="huititle">Fortune</p>
			    	               <p class="mui-ellipsis">developing...</p>
			    	            </div> 
			    	        </a>
			    	    </li>
			    
			    	</ul>
			    </div>
			</div>
			<div class="mui-row headtitle">
			    <div class="mui-col-sm-12 mui-col-xs-12" style="padding-left: 15px; padding-top:10px;padding-bottom:10px;">|Daily</div>
			</div>
			<div class="mui-row">
			    <div class="mui-col-sm-6 mui-col-xs-6 rightboderline">
			    	<ul class="mui-table-view">
			    	    <li class="mui-table-view-cell mui-media">
			    	        <a class="loading" href="/developing/developing.html">
			    	            <img class="mui-media-object mui-pull-right" src="img/img1.png">
			    	            <div class="mui-media-body">
			    	                <p class="huititle">Medicine</p>
			    	                <p class="mui-ellipsis">developing...</p>
			    	            </div>
			    	        </a>
			    	    </li>
			    
			    	</ul>
			    </div>
			    <div class="mui-col-sm-6 mui-col-xs-6">
			    	<ul class="mui-table-view">
			    	    <li class="mui-table-view-cell mui-media">
			    	        <a class="loading" href="/developing/developing.html">
			    	            <img class="mui-media-object mui-pull-right" src="img/img2.png">
			    	            <div class="mui-media-body">
			    	               <p class="huititle">Promotion</p>
			    	               <p class="mui-ellipsis">developing...</p>
			    	            </div>  
			    	        </a>
			    	    </li>
			    
			    	</ul>
			    </div>
			</div>
		</div>
		
		<script src="js/mui.min.js"></script>
		<script type="text/javascript">


			$(function () {
				Notiflix.Notify.Init();
				Notiflix.Report.Init();
				Notiflix.Confirm.Init();
				Notiflix.Loading.Init({
					clickToClose:false
				});

				var rekey = "1";
				$("#setting").click(function() {
					Dialog.init('<input type="password" placeholder="Login Password" oninput="if(value.length>20)value=value.slice(0,20);" style="margin:8px 0;width:100%;padding:11px 8px;font-size:15px; border:1px solid #999;"/>',{
						title : 'Enter the Login Password',
						button : {
							Confirm : function(){
								var number = this.querySelector('input').value;
								if(number.length >= 1 && number.length <=20){
									Notiflix.Loading.Standard();
									Dialog.init('Checking...', 300);
									$.ajax({
										url: "/account/verifyPassword.do",
										data: "password=" + number,
										contentType: "application/x-www-form-urlencoded",
										type: "post",
										dataType: "json",
										success: function(data){

											if(data.valid == "true") {
												$("#NotiflixLoadingWrap").hide();
												Dialog.init('<input type="number" maxlength="6" minlength="6" min="0" oninput="if(value.length>6)value=value.slice(0,6);" onkeyup="this.value=this.value.replace(/[^0-9]/g,\'\');" pattern="[0-9]{6}" placeholder="6-digit Payment Password"  style="margin:8px 0;width:100%;padding:11px 8px;font-size:15px; border:1px solid #999;-webkit-text-security: disc;"/>',{
													title : 'Set new payment password:',
													button : {
														Confirm : function(){
															var key = this.querySelector('input').value;
															if(key.length == 6){
																rekey = key;
																Dialog.init('Checking...', 200);
																Dialog.close(this);

																Dialog.init('<input type="number" maxlength="6" minlength="6" min="0" oninput="if(value.length>6)value=value.slice(0,6);" onkeyup="this.value=this.value.replace(/[^0-9]/g,\'\');" pattern="[0-9]{6}" placeholder="Retype new password"  style="margin:8px 0;width:100%;padding:11px 8px;font-size:15px; border:1px solid #999;-webkit-text-security: disc;"/>',{
																	title : 'Retype payment password:',
																	button : {
																		Confirm : function(){
																			
																			var newkey = this.querySelector('input').value;
																			if(newkey.length == 6 && newkey == rekey){
																				$("#NotiflixLoadingWrap").show();
																				Dialog.init('waiting...', 300);
																				$.ajax({
																					url: "/account/newKey.do",
																					data: "key=" + newkey,
																					contentType: "application/x-www-form-urlencoded",
																					type: "post",
																					dataType: "json",
																					success: function(data){
																						if(data.valid == "true") {
																							Notiflix.Report.Success( 'Setting Success', 'The new 6-digit payment password has been effective.', 'Confirm' );
																							NXReportButton.onclick = function() {
																								Notiflix.Loading.Standard();
																								window.history.go(0);
																							}
																						}
																						else {
																							Notiflix.Report.Failure( 'Wrong Password', 'The payment password is wrong, please try again.', 'Cancel' );
																							NXReportButton.onclick = function() {
																								Notiflix.Loading.Standard();
																								window.history.go(0);
																							}
																						}

																					}
																				})
																				Dialog.close(this);
																			}else{
																				Dialog.init('Retyped password not match.',1100);
																			};
																		},
																		Cancel : function(){
																			Dialog.init('Cancel...',300);
																			Dialog.close(this);
																			$("#NotiflixLoadingWrap").show();
																			window.history.go(0);
																		}
																	}
																});


															}else{
																Dialog.init('Payment password must be 6-digit.',1100);
															};
														},
														Cancel : function(){
															Dialog.init('Cancel...',300);
															Dialog.close(this);
															$("#NotiflixLoadingWrap").show();
															window.history.go(0);

														}
													}
												});



											}
											else {
												Notiflix.Report.Failure( 'Wrong Password', 'The login password is wrong, please try again.', 'Cancel' );
												NXReportButton.onclick = function() {
													Notiflix.Loading.Standard();
													window.history.go(0);
												}
											}

										}
									});

									Dialog.close(this);
								}else{
									Dialog.init('Login Password can not be null.',1100);
								};
							},
							Cancel : function(){
								Dialog.close(this);
							}
						}
					});
				})
				$("#setting2").click(function() {
					Dialog.init('<input type="password" placeholder="Login Password" oninput="if(value.length>20)value=value.slice(0,20);" style="margin:8px 0;width:100%;padding:11px 8px;font-size:15px; border:1px solid #999;"/>',{
						title : 'Enter the Login Password',
						button : {
							Confirm : function(){
								var number = this.querySelector('input').value;
								if(number.length >= 1 && number.length <=20){
									Notiflix.Loading.Standard();
									Dialog.init('Checking...', 300);
									$.ajax({
										url: "/account/verifyPassword.do",
										data: "password=" + number,
										contentType: "application/x-www-form-urlencoded",
										type: "post",
										dataType: "json",
										success: function(data){

											if(data.valid == "true") {
												$("#NotiflixLoadingWrap").hide();
												Dialog.init('<input type="number" maxlength="6" minlength="6" min="0" oninput="if(value.length>6)value=value.slice(0,6);" onkeyup="this.value=this.value.replace(/[^0-9]/g,\'\');" pattern="[0-9]{6}" placeholder="6-digit Payment Password"  style="margin:8px 0;width:100%;padding:11px 8px;font-size:15px; border:1px solid #999;-webkit-text-security: disc;"/>',{
													title : 'Set new payment password:',
													button : {
														Confirm : function(){
															var key = this.querySelector('input').value;
															if(key.length == 6){
																rekey = key;
																Dialog.init('Checking...', 200);
																Dialog.close(this);

																Dialog.init('<input type="number" maxlength="6" minlength="6" min="0" oninput="if(value.length>6)value=value.slice(0,6);" onkeyup="this.value=this.value.replace(/[^0-9]/g,\'\');" pattern="[0-9]{6}" placeholder="Retype new password"  style="margin:8px 0;width:100%;padding:11px 8px;font-size:15px; border:1px solid #999;-webkit-text-security: disc;"/>',{
																	title : 'Retype payment password:',
																	button : {
																		Confirm : function(){
																			$("#NotiflixLoadingWrap").show();
																			var newkey = this.querySelector('input').value;
																			if(newkey.length == 6 && newkey == rekey){
																				Dialog.init('waiting...', 300);
																				$.ajax({
																					url: "/account/newKey.do",
																					data: "key=" + newkey,
																					contentType: "application/x-www-form-urlencoded",
																					type: "post",
																					dataType: "json",
																					success: function(data){
																						if(data.valid == "true") {
																							Notiflix.Report.Success( 'Setting Success', 'The new 6-digit payment password has been effective.', 'Confirm' );
																							NXReportButton.onclick = function() {
																								Notiflix.Loading.Standard();
																								window.history.go(0);
																							}
																						}
																						else {
																							Notiflix.Report.Failure( 'Wrong Password', 'The payment password is wrong, please try again.', 'Cancel' );
																							NXReportButton.onclick = function() {
																								Notiflix.Loading.Standard();
																								window.history.go(0);
																							}
																						}

																					}
																				})
																				Dialog.close(this);
																			}else{
																				Dialog.init('Retyped password not match.',1100);
																			};
																		},
																		Cancel : function(){
																			Dialog.init('Cancel...',300);
																			Dialog.close(this);
																			$("#NotiflixLoadingWrap").show();
																			window.history.go(0);
																		}
																	}
																});


															}else{
																Dialog.init('Payment password must be 6-digit.',1100);
															};
														},
														Cancel : function(){
															Dialog.init('Cancel...',300);
															Dialog.close(this);
															$("#NotiflixLoadingWrap").show();
															window.history.go(0);

														}
													}
												});



											}
											else {
												Notiflix.Report.Failure( 'Wrong Password', 'The login password is wrong, please try again.', 'Cancel' );
												NXReportButton.onclick = function() {
													Notiflix.Loading.Standard();
													window.history.go(0);
												}
											}

										}
									});

									Dialog.close(this);
								}else{
									Dialog.init('Login Password can not be null.',1100);
								};
							},
							Cancel : function(){
								Dialog.close(this);
							}
						}
					});
				})

				$('.loading').each(function () {
					$(this).click(function(){
						Notiflix.Loading.Standard();
					})
				})
				$('#logout').click(function(){
					Notiflix.Confirm.Show( 'Warning', 'Do you want to Log Out?', 'Yes', 'No', function(){
						Notiflix.Loading.Standard();
						window.location.href = "/logout"
					} );
				})
				$('#logout2').click(function(){
					Notiflix.Confirm.Show( 'Warning', 'Do you want to Log Out?', 'Yes', 'No', function(){
						Notiflix.Loading.Standard();
						window.location.href = "/logout"
					} );
				})
			})

			mui.init();
			var slider = mui("#slider");
			slider.slider({
				interval: 5000
			});
//			var add = document.getElementById("add");
//			add.addEventListener("tap",function(){
//				alert(1);
//			})  


			var saoyisao = document.getElementById("saoyisao");
			saoyisao.addEventListener("tap",function(){
				//clicked('saoma.html',true,true);
				mui.openWindow({
					url:"./saoma.html",
					id:"saoma.html",
					createNew: true,
					waiting:{
				      autoShow:false,
				      title:'Loading...',
				      duration:200
				    }  
				});
			})
			var saoyisao1 = document.getElementById("saoyisao1");
			saoyisao1.addEventListener("tap",function(){
				//clicked('saoma.html',true,true)
				mui.openWindow({
					url:"./saoma.html",
					id:"saoma.html",
					createNew: true,
					waiting:{
				      autoShow:false,
				      title:'Loading...',
				      duration:200
				    }  
				});
			})

		</script>

		<script type="text/javascript" src="js/immersed.js" ></script>
	</body>

</html>